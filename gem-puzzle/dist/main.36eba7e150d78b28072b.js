(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var a=n.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();var e=document.createElement("div"),n=document.createElement("h1"),a=document.createElement("div"),r=document.createElement("button"),s=document.createElement("button"),c=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div");l.className="timer-display",l.textContent="00 : 00 : 00",n.innerHTML="Gem Puzzle",c.classList="score",c.innerHTML="Score: 0",o.classList="volume",o.classList.add("mute"),a.classList="button-container stop",r.classList="button-start start",r.innerHTML="start",s.classList="button-stop display-none",s.innerHTML="pause",e.classList="control-container",e.append(c),e.append(o),e.append(l);var i=0;function u(t){for(var e=0,n=0,a=0;a<t.length;a++)for(var r=0;r<t[a].length;r++){16===Number(t[a][r])&&(n=a+1);for(var s=[r+1];s<t[a].length;s++)Number(t[a][r])>Number(t[a][s])&&e++}return i=e+n}const d=t.p+"assets/81b02539252f126fac04.mp3",m=t.p+"assets/3d7d8d74d477d0419592.mp3";var p=document.querySelector("body"),v=document.createElement("main"),f=document.createElement("div"),L=e.querySelector(".timer-display"),y=e.querySelector(".volume"),b=new Array(16).fill(0).map((function(t,e){})),g=0,h=null,x=0,E=0,S=0,w=0;function N(){1e3==(x+=10)&&(x=0,60==++E&&(E=0,60==++S&&(S=0,w++)));var t=w<10?"0"+w:w,e=S<10?"0"+S:S,n=E<10?"0"+E:E;L.textContent=" ".concat(t," : ").concat(e," : ").concat(n)}!function(){for(var t in v.append(n),v.append(e),f.classList="container",b){var c=document.createElement("button");c.classList="item",c.dataset.matrixId=Number(t)+1,c.innerHTML=Number(t)+1,f.append(c)}v.append(f),v.append(a),a.append(r),a.append(s),p.append(v)}();var A=Array.from(f.querySelectorAll(".item")),I=T(A.map((function(t){return t.dataset.matrixId})));C(I);var M=function(){"button-start start"===r.classList.value?(r.classList.remove("start"),r.classList.add("reset"),r.textContent="reset",a.classList.remove("stop"),f.classList.add("play"),s.classList.remove("display-none")):"button-start"===r.classList.value&&(r.classList.add("reset"),r.textContent="reset",a.classList.remove("stop"),f.classList.add("play"),s.classList.remove("display-none"))};function T(t){for(var e=[[],[],[],[]],n=0,a=0,r=0;r<t.length;r++)n>=4&&(a++,n=0),e[a][n]=t[r],n++;return e}function C(t){for(var e=0;e<t.length;e++)for(var n=0;n<t[e].length;n++){var a=t[e][n];q(A[a-1],n,e)}}function q(t,e,n){t.style.transform="translate3D(".concat(100*e,"%, ").concat(100*n,"%, 0)")}function H(t){return t.map((function(t){return{value:t,sort:Math.random()}})).sort((function(t,e){return t.sort-e.sort})).map((function(t){return t.value}))}function k(t,e){for(var n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)if(e[n][a]==t)return{x:a,y:n};return null}s.addEventListener("click",(function(){r.classList.remove("reset"),r.textContent="start",s.classList.add("display-none"),a.classList.add("stop"),f.classList.remove("play"),clearInterval(h)})),r.addEventListener("click",(function(){if("button-start"===r.classList.value)null!==h&&(clearInterval(h),M()),h=setInterval(N,10);else if("button-start reset"===r.classList.value||"button-start start"===r.classList.value){M();var t=H(I.flat());for(u(I=T(t));i%2!=0;){var e=H(I.flat());u(I=T(e))}C(I),null!==h&&(clearInterval(h),x=0,E=0,S=0,w=0),h=setInterval(N,10);var n=document.querySelector(".score");g=0,n.textContent="Score: ".concat(g),f.classList.add("play")}})),f.addEventListener("click",(function(t){var e,n,a,r,s=t.target.closest("button"),c=k(Number(s.dataset.matrixId),I),o=k(16,I),l=(e=c,n=o,a=Math.abs(e.x-n.x),r=Math.abs(e.y-n.y),!(1!==a&&1!==r||e.x!==n.x&&e.y!==n.y)),i=document.querySelector(".score");if(l){!function(t,e,n){var a=n[t.y][t.x];n[t.y][t.x]=n[e.y][e.x],n[e.y][e.x]=a}(o,c,I),C(I),g+=1,i.textContent="Score: ".concat(g);var u=new Audio(d);JSON.stringify(["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16"])==JSON.stringify(I.flat())&&console.log("HURRRAAA!!!! Jesteś zwyczącą!!!"),"volume mute"!=y.classList.value&&u.play()}else"volume mute"!=y.classList.value&&new Audio(m).play()})),y.addEventListener("click",(function(){y.classList.toggle("mute"),y.classList.toggle("no-mute")}))})();
//# sourceMappingURL=main.36eba7e150d78b28072b.js.map